{% extends "mainApp/today.html" %}
{% load crispy_forms_tags %}
{% load bootstrap4 %}
{% load i18n %}

{% block content %} 
{% if perms.mainApp.change_TestShear %}
<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <fieldset class="form-group">
    <legend class="border-bottom">{% trans 'Изменить параметры теста' %}</legend>
    <table class="table_detail">
    <tr>
		<th class="table_cell dark_cell">{% trans 'Номер теста' %}</th>
		<th class="table_cell dark_cell">{% trans 'Дата' %}</th>
		<th class="table_cell dark_cell">{% trans 'Время' %}</th>
		<th class="table_cell dark_cell">{% trans 'Порода' %}</th>
		<th class="table_cell dark_cell">{% trans 'Класс' %}</th>
	</tr>
	<tr>
        <th class="table_cell2">{{ form.test_number }}</th>
        <th class="table_cell2">{{ form.test_date }}</th>
        <th class="table_cell2">{{ form.test_time }}</th>
        <th class="table_cell2">{{ form.type_of_wood }}</th>
        <th class="table_cell2">{{ form.strength_class }}</th>
    </tr>
    <tr>
    	<td colspan="3" class="table_cell" id="cell1">{% trans 'Размеры образца' %}</td>
    	<th colspan="2" class="table_cell" id="cell3">{% trans 'Отбор проводил' %}</th>
    </tr>
    <tr>
    	<th class="table_cell dark_cell">{% trans 'Толщина, мм' %}</th>
		<th class="table_cell dark_cell">{% trans 'Ширина, мм' %}</th>
		<th class="table_cell dark_cell" id="cell2">{% trans 'Длина, мм' %}</th>
		<th colspan="2" rowspan="2" class="table_cell">{{ form.lamellas_took_person }}</th>
    </tr>
    <tr>
    	<th class="table_cell">{{ form.lamellas_thickness }}</th>
    	<th class="table_cell">{{ form.lamellas_width }}</th>
    	<th class="table_cell" id="cell2">{{ form.lamellas_length }}</th>
    </tr>
    <tr>
    	<th colspan="5" id="cell3">{% trans 'Параметры пальцевого соединения' %}</th>
    </tr>
    <tr>
		<th class="table_cell dark_cell">{% trans 'Длина, мм' %}</th>
		<th class="table_cell dark_cell">{% trans 'Шаг, мм' %}</th>
		<th class="table_cell dark_cell">{% trans 'Зазор, мм' %}</th>
		<th class="table_cell dark_cell">{% trans 'Угол, град.' %}</th>
		<th class="table_cell dark_cell">{% trans 'Ориентация' %}</th>
	</tr>
    <tr>
    	<th class="table_cell">{{ form.fj_length }}</th>
    	<th class="table_cell">{{ form.fj_path }}</th>
    	<th class="table_cell">{{ form.fj_gap }}</th>
    	<th class="table_cell">{{ form.fj_angle }}</th>
    	<th class="table_cell2">{{ form.fj_orientation }}</th>
    </tr>
    <tr>
    	<th colspan="2" class="table_cell" id="cell3">{% trans 'Влажность' %}</th>
    	<th class="table_cell" id="cell3">{% trans 'Клей (отвердитель)' %}</th>
    	<th class="table_cell" id="cell3">{% trans 'Номер партии клея' %}</th>
    	<th class="table_cell" id="cell3">{% trans 'Срок годности' %}</th>
    </tr>
    <tr>
    	<th class="table_cell short">Слева: {{ form.lamellas_left_moisture }} %</th>
    	<th class="table_cell short">Справа: {{ form.lamellas_right_moisture }} %</th>
    	<th class="table_cell2">{{ form.glue }}</th>
    	<th class="table_cell2">{{ form.glue_batch_number }}</th>
    	<th class="table_cell2">{{ form.glue_expiration_date }}</th>
    </tr>
    <tr>
    	<th colspan="5" class="table_cell" id="cell3">{% trans 'Параметры склеивания' %}</th>
    </tr>
    <tr>
    	<th class="table_cell dark_cell">{% trans 'Расход клея, г/см2' %}</th>
    	<th class="table_cell dark_cell">{% trans 'Давление, г/см3' %}</th>
    	<th class="table_cell dark_cell">{% trans 'Продолжительность, сек.' %}</th>
    	<th colspan="2" class="table_cell dark_cell">{% trans 'Соотношение Клей:Отвердитель' %}</th>
    </tr>
    <tr>
    	<th class="table_cell">{{ form.glue_use_amount }}</th>
    	<th class="table_cell">{{ form.glue_pressure }}</th>
    	<th class="table_cell">{{ form.pressure_time }}</th>
    	<th class="table_cell2" colspan="2">{{ form.glue_harderner_amount }}</th>
    </tr>
    <tr>
    	<th colspan="5" class="table_cell" id="cell3">{% trans 'Результаты тестирования' %}</th>
    </tr>
    <tr>
    	<th class="table_cell dark_cell">{% trans 'Сила, кН' %}</th>
    	<th class="table_cell dark_cell">{% trans 'Напряжение, кН/м2' %}</th>
    	<th class="table_cell dark_cell">{% trans 'Излом по соединению, %' %}</th>
    	<th class="table_cell dark_cell">{% trans 'Излом в основании соединения, %' %}</th>
    	<th class="table_cell dark_cell">{% trans 'Излом вне соединения, %' %}</th>
    </tr>
    <tr>
    	<th class="table_cell">{{ form.force_crash }}</th>
    	<th class="table_cell">{{ form.lamellas_strength }}</th>
    	<th class="table_cell short">{{ form.by_fj_crash }}</th>
    	<th class="table_cell short">{{ form.base_fj_crash }}</th>
    	<th class="table_cell short">{{ form.out_of_fj_crash }}</th>
    </tr>
    <tr>
    	<th colspan="4" class="table_cell" id="cell3">{% trans 'Комментарий' %}</th>
    	<th class="table_cell" id="cell3">{% trans 'Оборудование' %}</th>
    </tr>
    <tr>
    	<th class="table_cell" colspan="4">{{ form.comment }}</th>
    	<th class="table_cell2">{{ form.equipment }}</th>
    </tr>
    <tr>
    	<th class="table_cell dark_cell">{% trans 'Соответствует нормам' %}</th>
    	<th class="table_cell long_inp">{{ form.passed }}</th>
    	<th class="table_cell dark_cell">{% trans 'Фото' %}</th>
    	<th class="table_cell long" colspan="2">{{ form.photo }}</th>
    </tr>
</table> <!-- {{ form|crispy }} -->
    </fieldset>
    <div class="form-group">
        <button class="btn btn-info btn_down" type="submit">{% trans 'Сохранить' %}</button>
    </div>
</form>

{% else %}
<h2>{% trans 'У данного аккаунта нет прав на редактирование данных' %}!</h2>
 <a href="{% url 'login' %}">{% trans 'Сменить аккаунт' %}</a>
{% endif %}

{% endblock content %}

